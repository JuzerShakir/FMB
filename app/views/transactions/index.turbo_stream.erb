<%= turbo_stream.append :transactions do %>
    <% @transactions.each do |transaction| %>
        <div class="row py-3 fs-5 border-bottom border-light">
            <div class="col">
                <%= button_to transaction.recipe_no, transaction, method: :get, class: "btn btn-outline-primary btn-sm px-3" %>
            </div>
            <div class="col fst-italic fw-bold">
                <%= transaction.amount_with_currency %>
            </div>
            <div class="col">
                <%= button_to transaction.thaali_takhmeen.number, takhmeen_path(transaction.thaali_takhmeen), method: :get, class: "btn btn-outline-secondary btn-sm py-1" %>
            </div>
            <div class="col text-secondary">
                <%= time_ago_in_words(transaction.on_date) %>
            </div>
            <div class="col text-secondary">
                <%= transaction.mode.capitalize %>
            </div>
        </div>
    <% end %>
<% end %>

<% if @pagy.next.present? %>
    <%= turbo_stream.replace :pagination do %>
        <%= turbo_frame_tag :pagination, loading: :lazy, src: all_transactions_path(format: :turbo_stream, page: @pagy.next, q: params[:q]&.to_unsafe_h) %>
    <% end %>
<% end %>